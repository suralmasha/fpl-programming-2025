from collections import defaultdict

"""
Словарь, где:
Ключ - вершина (может быть числом, строкой, любым хешируемым объектом);
Значение - список (или множество) вершин-соседей.

Для взвешенных графов значением может быть список кортежей (сосед, вес_ребра).
Использование `collections.defaultdict(list)` (или `defaultdict(set)`) упрощает код, так как не нужно проверять
наличие вершины в словаре перед добавлением первого соседа.

Пример неориентированного взвешенного (установите рандомные веса от 0 до 1) графа, 5 вершин 0-4, с рёбрами:
        (0, 1), (0, 4), (1, 2), (1, 3), (1, 4), (2, 3), (3, 4)
"""


if __name__ == '__main__':
    adj_list = defaultdict(list)

    edges = [...]

    # Заполняем список смежности
    for u, v in edges:
        ...

    print("Список смежности:")
    # Выводим содержимое словаря
    for vertex in sorted(adj_list.keys()):  # Сортируем ключи для предсказуемого вывода
        print(f"Вершина {vertex}: {sorted(adj_list[vertex])}")  # Сортируем соседей для наглядности
    # Пример вывода:
    # Вершина 0: [(1, ...), (4, ...)]
    # Вершина 1: [(0, ...), (2, ...), (3, ...), (4, ...)]
    # Вершина 2: [(1, ...), (3, ...)]
    # Вершина 3: [(1, ...), (2, ...), (4, ...)]
    # Вершина 4: [(0, ...), (1, ...), (3, ...)]

    # Получение соседей вершины 1: O(1) в среднем для словаря
    print(f"\nСоседи вершины 1: {adj_list[1]}")

    # Проверка ребра (1, 4): O(k), где k - степень вершины 1
    print(f"Ребро (1, 4) существует? {'Да' if any(4 in x for x in adj_list[1]) else 'Нет'}")
